<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="记录点滴生活，让繁忙的工作更有意义。">
<meta property="og:type" content="website">
<meta property="og:title" content="Lam_TT的博客">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Lam_TT的博客">
<meta property="og:description" content="记录点滴生活，让繁忙的工作更有意义。">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Lam_TT的博客">
<meta name="twitter:description" content="记录点滴生活，让繁忙的工作更有意义。">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/">





  <title>Lam_TT的博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Lam_TT的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">励志做一个合格的程序员。</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/06/23/H5微信支付记录整理/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lam_TT">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lam_TT的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/06/23/H5微信支付记录整理/" itemprop="url">H5微信支付记录整理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-06-23T17:13:54+08:00">
                2020-06-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="H5微信支付记录整理"><a href="#H5微信支付记录整理" class="headerlink" title="H5微信支付记录整理"></a>H5微信支付记录整理</h2><p>我主要是做iOS开发的，在完成app开发任务的之余也要负责公司部分项目前端开发。</p>
<p>对于H5的微信支付，其实做了3次了，虽然很简单，但是开发时间间隔有点久了，总是记不住流程和配置，每次都花了大量调试时间。对此做一下记录整理。（如记录整理有问题，请各位朋友及时指出！）</p>
<p>首先，支付分为：</p>
<ol>
<li><p>微信应用内：jsApi</p>
</li>
<li><p>微信应用外：m_webUrl直接调用支付</p>
</li>
</ol>
<hr>
<h4 id="微信应用内-流程如下："><a href="#微信应用内-流程如下：" class="headerlink" title="微信应用内   (流程如下：)"></a>微信应用内   (流程如下：)</h4><ul>
<li>配置步骤</li>
</ul>
<ol>
<li>公众平台申请账号：<a href="https://mp.weixin.qq.com/" target="_blank" rel="noopener">https://mp.weixin.qq.com/</a> 完善相关资料，。</li>
<li>微信商户平台账号：<a href="https://pay.weixin.qq.com/index.php/core/home/login?return_url=%2F" target="_blank" rel="noopener">https://pay.weixin.qq.com/index.php/core/home/login?return_url=%2F</a> 完善相关资料，并且申请开通各个功能，比如：JSApi支付，H5支付等。</li>
<li>公众号和商户平台绑定。</li>
<li>分别在公众平台和商户平台进行域名绑定：JSApi、H5、业务域名、授权域名。（注意：域名有个数限制，授权域名只能有2个域名）。</li>
</ol>
<ul>
<li>开发步骤（<a href="https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=7_3）" target="_blank" rel="noopener">https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=7_3）</a></li>
</ul>
<ol>
<li>集成JSSDK参考：<a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#1" target="_blank" rel="noopener">https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/JS-SDK.html#1</a></li>
<li>静默授权获取code，code大概是5分钟过期，使用后也过期。具体参考：<a href="https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/Wechat_webpage_authorization.html" target="_blank" rel="noopener">https://developers.weixin.qq.com/doc/offiaccount/OA_Web_Apps/Wechat_webpage_authorization.html</a> （注意回调地址要encode）</li>
<li>获取wxOpenId，使用code从后台向wx授权获取wxopenId。</li>
<li>完善当前页面支付的信息，点击支付。</li>
<li>使用wxOpenId向微信下单，同样是后台去下单，后台拿到对应数据返回至前端。</li>
<li>调起支付，方法如下：window.WeixinJSBridge.invoke。具体参考：<a href="https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=7_7&amp;index=6" target="_blank" rel="noopener">https://pay.weixin.qq.com/wiki/doc/api/jsapi.php?chapter=7_7&amp;index=6</a></li>
</ol>
<hr>
<h4 id="微信应用外"><a href="#微信应用外" class="headerlink" title="微信应用外"></a>微信应用外</h4><ol>
<li>应用外比较简单，只需要配置好 商户平台的域名权限。前端支付使用后台返回的m_webUrl直接调用即可。</li>
<li>如果是iOSApp内的浏览器调用支付的话，微信支付完成后可能无法直接返回App，需要做一些处理。比如：调用微信支付时：将redirect_url 替换成App对应的URL Schemes ，当然这个Schemes需要使用在微信的公众平台和商户平台配置的域名。比如：online.xxxxx.com.  否则微信也无法正常返回至对应App。</li>
</ol>
<hr>
<p>备注：开发过程中，只能在配置权限域名下进行调试。所以调试过程比较麻烦，推荐一个调试工具，微信内：<a href="http://debugx5.qq.com/" target="_blank" rel="noopener">http://debugx5.qq.com/</a>  直接打开即可，注意不能用https，并且只能android设备使用。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/01/06/回顾2019/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lam_TT">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lam_TT的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/01/06/回顾2019/" itemprop="url">回顾2019</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-01-06T17:13:54+08:00">
                2020-01-06
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="回顾2019"><a href="#回顾2019" class="headerlink" title="回顾2019"></a>回顾2019</h1><p>   不知是记性不好，还是对生活和工作不在意，总觉得做什么事情都是迷迷糊糊、顺其自然、停止思考的前进着。总以为生活和个人会越来越好，然而不尽人意，也或者说对自我的不满足。</p>
<p>   总的来说，2019年一个提升认知和改变自我的一年。应该还是做了许多事情。</p>
<h2 id="工作上："><a href="#工作上：" class="headerlink" title="工作上："></a>工作上：</h2><p>   19年相比之前空余时间充足，加上公司人力资源调整，在维护iOS项目的前提下，和同事一起学习开发了web应用和小程序应用。在这里也感谢在学习进步过程中同事的帮助！</p>
<p>   先谈谈iOS吧。</p>
<h3 id="新闻和课程（iOS）"><a href="#新闻和课程（iOS）" class="headerlink" title="新闻和课程（iOS）"></a>新闻和课程（iOS）</h3><ul>
<li>新闻类客户端</li>
<li>yj云课堂</li>
<li>其他小项目维护</li>
<li><p>Swift</p>
<h4 id="组件化"><a href="#组件化" class="headerlink" title="组件化"></a>组件化</h4><p>因需要“新闻客户端“集成“yj云课堂”课程播放模块，所以对云课堂项目进行了分解，组件化操作，将“课程”模块独立出来，供“新闻客户端”直接调用，但是我并没有将“课程”组件共享的仓库，只是放在本地。</p>
<h4 id="Swift"><a href="#Swift" class="headerlink" title="Swift"></a>Swift</h4><p>19年，对Swift的学习更近了一步，只是公司暂时没有新的项目开始，就写了几个UIDemo，复习了一下基础知识，决定在下一个新项目开始Swift，并且尝试SwiftUI。</p>
</li>
</ul>
<h3 id="小程序开发"><a href="#小程序开发" class="headerlink" title="小程序开发"></a>小程序开发</h3><p>   因前端人员不够，移动端时间充足，我和Android同事便开始了“新闻客户端”小程序开发。</p>
<p>   使用技术：HTML/css，Vue，js。</p>
<p>   使用框架：uni-app</p>
<p>   因为之前很少接触前端项目，基本处于“0”的状态，所以看了大约几天的官方文档，便开始写小程序，开始会经常翻阅文档和资料，不过后面都是熟能生巧了，对于有编程经验的人来讲，应该算是很简单的了。</p>
<p>   进步：对HTML/css，js的知识更加巩固了一些。</p>
<h3 id="web应用"><a href="#web应用" class="headerlink" title="web应用"></a>web应用</h3><p>   同样也是，前端人员不够，我们移动端就开始接触了web开发，但是这一次使用技术却不是vue，而是react，都是现学现用。</p>
<p>   使用技术：HTML/css，React，typeScript</p>
<p>   使用框架/脚手架：next.js</p>
<p>   为什么这次要用react，而不用Vue呢？<br>   当然是</p>
<ol>
<li>学习了解更多的技术。</li>
<li>为了移动端React Native 跨平台技术知识储备</li>
<li><p>理解各个语言的特性。</p>
<p>个人感受，React的学习过程比Vue要难许多，基本都是组件化的思维开发，学习的知识也要比vue多一些。</p>
<p>进步：对HTML/css的知识更加巩固了一些，以及对vsCode工具和各类命令操作熟悉。</p>
</li>
</ol>
<p>   以上便是19年工作能力的提升部分了。</p>
<h2 id="生活上："><a href="#生活上：" class="headerlink" title="生活上："></a>生活上：</h2><p>   19年生活平凡，略带一些趣味和挑战。</p>
<p>   平凡的是，每天依旧做着自己的工作，吃饭，睡觉，娱乐！</p>
<p>   趣味或是，购买了心仪很久的“罗兰EX”音箱，时常和朋友一起去公园弹琴唱歌，乐此不疲。</p>
<p>   挑战则是，在闲暇时候，做了一些关于副业的事情。</p>
<h3 id="阅读学习"><a href="#阅读学习" class="headerlink" title="阅读学习"></a>阅读学习</h3><p>   每年都在看“好声音”，18年喜欢上了“李健”老师的文学素养及风范，决定用心的读书，坚持读书。</p>
<p>   19年阅读学习如下：</p>
<ul>
<li>斗罗大陆（小说）</li>
<li>朝花夕拾（散文）未完….</li>
<li>成语阅读</li>
<li><p>云课堂视频学习…</p>
<h3 id="音乐"><a href="#音乐" class="headerlink" title="音乐"></a>音乐</h3><p>还是坚持了很多年了，可能是19年经常和朋友出去弹唱，对于唱功和台风应该比以前进步了许多。</p>
<p>唱功体现则是在：用气比之前更加灵活，发音习惯也比较好（另一个朋友对我的评价），音色我就不说了，听过我唱歌的都觉得音色不错。哈哈哈～～</p>
</li>
</ul>
<h3 id="副业"><a href="#副业" class="headerlink" title="副业"></a>副业</h3><p>   在闲暇时候，做了一些关于副业的事情，加入了商会联盟，甚至摆地摊售卖老家特产（这对于我的性格来说确是为一个新挑战），结果以失败告终，哈哈哈哈哈～～～</p>
<p>   以此总结，应注重“货源” + “运输” +  “消费心理：‘大部分人都是喜欢便宜！’”</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>   19年过完了，感觉只是经历更多的事物，但是对于个人学习能力的提升还是有所懈怠，可能我逐渐明白为什么好的企业要招“高学历”的人才了，不管学历如何，做得工作都一样，只是时间的成本问题了，大部分高学历人在学习能力方面和基础方面远强于低学历的人。 所以对于我来说：只能“勤能补拙”了。</p>
<h2 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h2><p>   可能现在对于我来说，工作是因为“生活压力”迫使着我前进，并不是真正意义的热爱它。但是谁又能完完全全做自己真正喜欢的事情呢？</p>
<p>   希望2020年及以后，脚踏实地，用心专研，认认真真做好每一件事，时常总结自己，努力把工作培养成热爱的一部分。</p>
<p>   最后说一句内心点的：希望早日买车，还清房贷！</p>
<p>​    </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Lam_TT</p>
              <p class="site-description motion-element" itemprop="description">记录点滴生活，让繁忙的工作更有意义。</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Lam_TT</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
